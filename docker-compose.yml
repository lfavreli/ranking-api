volumes:
  dynamodb:
    external: true

services:
    dynamodb-local:
      command: "-jar DynamoDBLocal.jar -sharedDb -dbPath /home/dynamodblocal/data"
      image: "amazon/dynamodb-local:latest"
      container_name: dynamodb-local
      user: root # Requires root user to avoid ‘unable to open database file’ error when using Volume
      ports:
        - "8000:8000"
      volumes:
        - dynamodb:/home/dynamodblocal/data
      working_dir: /home/dynamodblocal

    dynamodb:
      image: "aaronshaf/dynamodb-admin"
      container_name: dynamodb-admin
      depends_on:
        - dynamodb-local
      ports:
        - "8001:8001"
      environment:
        - DYNAMO_ENDPOINT=http://dynamodb-local:8000
